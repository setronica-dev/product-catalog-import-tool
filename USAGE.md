## Usage

The full list of steps from initial file upload to celebrating the success can be found below in two supported format XLSX and CSV:

### XLSX format

1. This format includes all data and will be processed in needed order if everything is filled in proeprly

### CSV format

#### Products

1.  Place your file into the source folder
2.  Run the tool 

        ./product-catalog-import-tool

2.  Download a report file from the ‘result/report’ folder and look at recommendation  messages inside in case if a required attribute is missed in the source file.
3.  An operator can correct all problems and provide missed information by following instructions in the report file.
4.  Put the corrected report file into the ‘source’ folder again.
5.  Run the tool again
        
        ./product-catalog-import-tool

6.  Repeat steps (4)-(7) if the tool is still reporting problems.
7.  If everything is fine your file has been transformed and sent to the system. You can find a report in the ‘result/report’ folder.
8.  Check that product appeared in the connected system.
9.  Celebrate!

#### Offers
1.  Place your file into the source folder
2.  Run the tool 

        ./product-catalog-import-tool

2.  If the file is correct then offers will be created

#### Offer Items
1.  Place your file into the source folder
2.  Run the tool 

        ./product-catalog-import-tool

2.  If the file is correct and offers and products exist alrteady in the system then offer items will be created

### Offers, Products and OfferItems
1. You need to differentiate source folders in the configuration file:

        product:
            source: ./data/source/products/
        offer:
            source: ./data/source/offers/
        offer_item:
          source: ./data/source/offerItems/

3. Place all files and run the tool just once. Files will be imported in the following order: offers, products, offer items.

## Files structure
We have four main folders. All these folders will be autogenerated by building the tool and placed into your working directory:

1.  Mapping - this folder contains the file with a mapping of a seller’s fields and the  system’s fields. Mapping file should be in '.yaml' format and must contain required fields:
    *  ID
    *  Category
2.  Ontology - this folder contains the file with all rules that the system requests from their sellers. Each category has its list of attributes that have to be filled in a way as the system expects it.
   Ontology file should be in csv format with ',' separator.
3.  Source - this folder contains incoming files from a seller with the following subfolders
    *  ‘inprogress’ folder to move file here as soon as processing is started;
    *  ‘processed’ folders to move files when the processing is finished successfully and the source file has all required attributes to proceed with the next step.
4.  Result - this folder contains results of validation and transformation with the following subfolders:
    *  ‘report’ - while a file has any missing attributes then the tool will keep it in this folder with all recommendations to fix; 
    *  ‘sent’ - If the file is correct and sent to the system, then you can find it in this folder.

